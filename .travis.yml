language: node_js
before_install:
  - sudo apt-get update
install:
  - cd .. && $TRAVIS_BUILD_DIR/ci/clone_repos.sh master master && cd $TRAVIS_BUILD_DIR
  - npm install -g spark-cli
  - ./ci/install_arm_gcc.sh && ./ci/install_gcc.sh
  - ./ci/create_spark_cli_json.sh
script:
  - ./ci/unit_tests.sh && ./ci/integration_tests.sh
  - ./ci/test_memory_available_with_real_core.sh

after_success: ./ci/update-gh-pages.sh

env:
  global:
  - secure: "UM1+Ps1t21JfJaTFhuqkaY/U21j1Gfja6oSJTALcU0Y7zmo7TNyYMJwP+tbRfss7RBilWwUA8osr3sr6NXPREChojKpRQaRt52iD6wDfcxhsxGrpOU79cYO7FK1aQhCmhDGcnXahtxzbOGwS74jjTFW9U6TSveWa+EV1OgagLMc="
